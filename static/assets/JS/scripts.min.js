var mapDisplayed=0,fullScreenMapAsked=0,animateMapShaddow=0,animateSponsorLogos=0,scrollDownArrowRotating=1;aboutSectionCurrent=0,sponsorSectionCurrent=0,scheduleSectionCurrent=0,GLOBALInsufficientVPHeight=0,$(document).ready(function(){function e(e){var t=-.25*e;parseInt($("#astonmb").css("bottom"))<t&&$("#astonmb").css("transform","translate( 0px , "+t+"px)")}function t(e){var t=e/2,n=$("#mapContainer")[0].getBoundingClientRect().top+$("#mapContainer").height()/2-t,o=t/20,a=Math.round(n/o);$("#mapContainer").css("box-shadow","0 "+a+"px 20px 2px #000")}function n(){var e=jQuery(window).height(),t=($("#sponsorLogos")[0].getBoundingClientRect().top,$("#goldSponsorRow")[0].getBoundingClientRect().top-$("#goldSponsorRow").height()/2),n=$("#goldHardwareSponsorRow")[0].getBoundingClientRect().top-$("#goldHardwareSponsorRow").height()/2,o=$("#silverSponsorRow")[0].getBoundingClientRect().top-$("#silverSponsorRow").height()/2,a=$("#bronzeSponsorRow")[0].getBoundingClientRect().top-$("#bronzeSponsorRow").height()/2,i=.03*e,s=.1*t-i,r=.1*n-i,d=.09*o-i,l=.09*o-i;t<.7*e?$(".goldSponsorLogo").css("transform","scale3d(1.4,1.4,1.4) translate3d(0px, "+s+"px, 0px)"):$(".goldSponsorLogo").css("transform","translate3d(0px, "+s+"px, 0px)"),n<.7*e?$(".goldHardwareSponsorLogo").css("transform","scale3d(1.15,1.15,1.15) translate3d(0px, "+r+"px, 0px)"):$(".goldHardwareSponsorLogo").css("transform","translate3d(0px, "+r+"px, 0px)"),o<.62*e?$(".silverSponsorLogo").css("transform","scale3d(1.2,1.2,1.2) translate3d(0px, "+d+"px, 0px)"):$(".silverSponsorLogo").css("transform","translate3d(0px, "+d+"px, 0px)"),a<.3*e?$(".bronzeSponsorLogo").css("transform","scale3d(1.35,1.35,1.35) translate3d(0px, "+l+"px, 0px)"):$(".bronzeSponsorLogo").css("transform","translate3d(0px, "+l+"px, 0px)")}function o(){var e=$(".mainNavBar").attr("data-origMenuOffsetY");$(window).scrollTop()>=.9*e&&($(".mainNavBar").css("background-color","rgb(52, 51, 51)"),$(".mainNavLinks li").css("margin-right","5vw"),$(".mainNavLinks li a").css("color","white")),$(window).scrollTop()>=e?($(".mainNavBar").addClass("fixed-top"),navBarHeight=parseInt($(".mainNavBar").css("height")),$(".pageContentSection").filter(":first").css("padding-top",navBarHeight)):($(".mainNavBar").removeClass("fixed-top"),$(".mainNavBar").css("background-color","#FFF"),$(".mainNavLinks li a").css("color",""),$(".mainNavLinks li").css("margin-right","0vw"),$(".pageContentSection").filter(":first").css("padding-top",0))}function a(){var e=$(".mainNavBar").offset().top;$(".mainNavBar").attr("data-origMenuOffsetY",e)}function i(e){void 0===e&&(e=$(window).scrollTop());parseInt($("#pageHeader").css("width"));var t=parseInt($("#pageHeader").css("height"));if(void 0===$("#pageHeaderButtons").attr("data-registrationButtWidth")){var n=parseInt($("#pageHeaderButtons").css("width"));$("#pageHeaderButtons").attr("data-registrationButtWidth",n)}if(void 0===$("#pageHeaderContent").attr("data-contentHeight")){var o=parseInt($("#pageHeaderContent").css("height"));$("#pageHeaderContent").attr("data-contentHeight",o)}if(void 0===$("#pageHeaderContent").attr("data-contentWidth")){var a=parseInt($("#pageHeaderContent").css("width"));$("#pageHeaderContent").attr("data-contentWidth",a)}var i=.38*t,s=i+parseInt($("#pageHeaderContent").attr("data-contentHeight"))+.04*t;$("#contentWrapper").css("top",i+"px"),$("#pageHeaderContent").css("top",s+"px"),$("#contentWrapper").addClass("animated"),$("#contentWrapper").addClass("bounceIn"),$("#contentWrapper").css("display","block")}function s(e){var t=parseInt($("#pageHeader").css("height")),n=.16*t,o=$("#pageHeaderButtons").is(":visible"),a=$("#astonHackHeaderLogo").is(":visible");e>n?$("#astonmb").css("z-index",3):$("#astonmb").css("z-index",-1),e>t&&(o||a)?r():e<t&&!o&&(l(GLOBALInsufficientVPHeight),i())}function r(){$(".hideableHeaderElement").hide()}function d(){$(".largerScreenHeaderElements").hide()}function l(e){e?$(".smallScreenOnlyHeaderElements").show():$(".hideableHeaderElement").show()}function c(){function e(){c(),console.log("Race condition bypassed; really need a long term solution to this...")}window.innerWidth||document.body.clientWidth;var t=window.innerHeight||document.body.clientHeight,n=parseInt($("#astonmb").css("height"));if(n<10){var o=document.querySelector("#astonmb");o.complete?e():o.addEventListener("load",e)}mBOffSet=n-2*t/3,mBOffSet<.3*n&&(mBOffSet=.3*n),$("#astonmb").css("bottom",-mBOffSet)}function p(){buttonOffset=$("#pageHeaderButtons")[0].getBoundingClientRect().top,logoHeight=$("#astonHackHeaderLogo").height()+15,buttonOffset<logoHeight?(d(),GLOBALInsufficientVPHeight=1):(GLOBALInsufficientVPHeight=0,l(GLOBALInsufficientVPHeight),s())}function g(){c(),l(!1),i(),s(),p(),a(),h()}function h(){var e=parseInt($("footer").css("height"));$("#pageEnd").css("height",e)}$("#mapContainer").hide(),$('a[rel="mapTip"]').tooltip(),i(),$("#astonmb").removeClass("animated"),s();var f=$("#pageHeader").height();$(".mainNavBar").attr("data-origMenuOffsetY",f),$("#pageHeaderButtons").show(),$("#pageHeaderContent").show();for(var m=document.getElementsByClassName("footerImage"),u=0,v=0;v<m.length;v++){var w=m[v];w.complete?u++:(w.addEventListener("load",h()),w.addEventListener("error",function(){h()}))}u>0&&h(),g(),$(window).resize(function(){g()}),$("#mapAddressSideBar").on("inview",function(e,t){t?(mapDisplayed||($("#mapContainer").show(),initMap(),mapDisplayed=!mapDisplayed),animateMapShaddow=1):animateMapShaddow=0}),$("#sponsorLogos").on("inview",function(e,t){animateSponsorLogos=t?1:0}),$("#sponsorLogos").on("inview",function(e,t){t&&($("#sponsorLink").hasClass("active")||($(".mainNavLinks>li.active").removeClass("active"),$("#sponsorLink").addClass("active")))}),$("#scheduleSegment").on("inview",function(e,t){t&&($("#schedLink").hasClass("active")||($(".mainNavLinks>li.active").removeClass("active"),$("#schedLink").addClass("active")))}),$("#aboutSegment").on("inview",function(e,t){t&&($("#aboutLink").hasClass("active")||($(".mainNavLinks>li.active").removeClass("active"),$("#aboutLink").addClass("active")))}),$("#pageEnd").on("inview",function(e,t){t&&h()}),$("#mapContainer").click(function(){$("#map").css("pointer-events","auto"),fullScreenMapAsked||($("#generalModelBody").html("<p>Do you want to open the map full screen in Google maps?</p>"),$("#generalModelAdditionalButtons").html('<button id="btnOpenGMapsFull" type="button" class="btn btn-secondary" data-dismiss="modal">Go Full Screen</button>'),$("#generalModel").modal("show"),fullScreenMapAsked=!fullScreenMapAsked)}),$("#generalModelAdditionalButtons").on("click","#btnOpenGMapsFull",function(){window.open("https://www.google.co.uk/maps/place/Aston+University/@52.4869136,-1.8900871,17z/data=!4m15!1m9!4m8!1m0!1m6!1m2!1s0x4870bc9ae4f2e4b3:0x9a670ba18e08a084!2sAston+University,+Aston+Express+Way,+Birmingham+B4+7ET!2m2!1d-1.8878984!2d52.4869104!3m4!1s0x4870bc9ae4f2e4b3:0x9a670ba18e08a084!8m2!3d52.4869104!4d-1.8878984?hl=en","_blank")}),$(window).scroll(function(){var a=$(window).scrollTop();if(requestAnimationFrame(function(){e(a)}),animateMapShaddow){var i=jQuery(window).height();requestAnimationFrame(function(){t(i)})}animateSponsorLogos&&requestAnimationFrame(function(){n()}),scrollDownArrowRotating&&($("#scrollDownReminderArrow").removeClass("rotateAroundY"),scrollDownArrowRotating=0),s(a),o()}),$(".smoothScrollLink").click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);(t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top-50},1e3,function(){var e=$(t);return e.focus(),!e.is(":focus")}))}}),document.cookie="EssentialTimes=Tuesdays and Thursdays, 6.30 - 8.30. 1st session is Free"}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(){var t,n,o={height:l.innerHeight,width:l.innerWidth};return o.height||((t=d.compatMode)||!e.support.boxModel)&&(n="CSS1Compat"===t?c:d.body,o={height:n.clientHeight,width:n.clientWidth}),o}function n(){return{top:l.pageYOffset||c.scrollTop||d.body.scrollTop,left:l.pageXOffset||c.scrollLeft||d.body.scrollLeft}}function o(){if(r.length){var o=0,s=e.map(r,function(e){var t=e.data.selector,n=e.$element;return t?n.find(t):n});for(a=a||t(),i=i||n();o<r.length;o++)if(e.contains(c,s[o][0])){var d=e(s[o]),l={height:d[0].offsetHeight,width:d[0].offsetWidth},p=d.offset(),g=d.data("inview");if(!i||!a)return;p.top+l.height>i.top&&p.top<i.top+a.height&&p.left+l.width>i.left&&p.left<i.left+a.width?g||d.data("inview",!0).trigger("inview",[!0]):g&&d.data("inview",!1).trigger("inview",[!1])}}}var a,i,s,r=[],d=document,l=window,c=d.documentElement;e.event.special.inview={add:function(t){r.push({data:t,$element:e(this),element:this}),!s&&r.length&&(s=setInterval(o,250))},remove:function(e){for(var t=0;t<r.length;t++){var n=r[t];if(n.element===this&&n.data.guid===e.guid){r.splice(t,1);break}}r.length||(clearInterval(s),s=null)}},e(l).on("scroll resize scrollstop",function(){a=i=null}),!c.addEventListener&&c.attachEvent&&c.attachEvent("onfocusin",function(){i=null})});